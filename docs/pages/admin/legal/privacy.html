<!-- Admin - Privacy Policy -->
<div class="admin-layout">
  <aside class="admin-sidebar">
    <div class="admin-brand">
      <h2>ðŸ” Admin Portal</h2>
    </div>
    <nav class="admin-nav">
      <a href="#" onclick="navigateTo('/admin'); return false;">ðŸ“Š Dashboard</a>
      <a href="#" onclick="navigateTo('/admin/customers'); return false;">ðŸ‘¥ Customers</a>
      <a href="#" onclick="navigateTo('/admin/drivers'); return false;">ðŸš— Drivers</a>
      <a href="#" onclick="navigateTo('/admin/operations'); return false;">ðŸ“¦ Operations</a>
      <a href="#" onclick="navigateTo('/admin/payouts'); return false;">ðŸ’° Payouts</a>
      <a href="#" onclick="navigateTo('/admin/disputes'); return false;">âš ï¸ Disputes</a>
      <a href="#" onclick="navigateTo('/admin/integrations'); return false;">ðŸ”Œ Integrations</a>
      <a href="#" onclick="navigateTo('/admin/live-map'); return false;">ðŸ—ºï¸ Live Map</a>
      <a href="#" onclick="navigateTo('/admin/driver-simulator'); return false;">ðŸŽ® Simulator</a>
      <hr style="border: none; border-top: 1px solid #e2e8f0; margin: 12px 0;">
      <a href="#" onclick="navigateTo('/admin/legal/terms'); return false;">ðŸ“„ Terms</a>
      <a href="#" onclick="navigateTo('/admin/legal/privacy'); return false;" class="active">ðŸ”’ Privacy</a>
    </nav>
  </aside>

  <main class="admin-main">
    <header class="admin-header">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; base-uri 'self'; object-src 'none'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline' https://unpkg.com; script-src 'self' 'unsafe-inline' https://unpkg.com; connect-src 'self' https://ridendine-demo.onrender.com; font-src 'self' data: https:;">
      <h1>Privacy Policy</h1>
      <button id="logoutBtn" class="button">Logout</button>
    </header>

    <div class="admin-content">
      <div class="page-card">
        <h2>RideNDine â€“ Privacy Policy</h2>
        
        <section>
          <h3>1. Information We Collect</h3>
          <p>We collect the following types of information:</p>
          <ul>
            <li><strong>Account Information:</strong> Name, email, phone number, and address</li>
            <li><strong>Order Information:</strong> Food preferences, delivery addresses, order history</li>
            <li><strong>Payment Information:</strong> Processed securely through our payment partners</li>
            <li><strong>Location Data:</strong> For delivery tracking and optimization</li>
            <li><strong>Device Information:</strong> Browser type, IP address, operating system</li>
          </ul>
        </section>

        <section>
          <h3>2. How We Use Your Information</h3>
          <p>We use collected information to:</p>
          <ul>
            <li>Process and fulfill your orders</li>
            <li>Communicate with you about orders and services</li>
            <li>Improve our platform and services</li>
            <li>Prevent fraud and ensure platform security</li>
            <li>Comply with legal obligations</li>
            <li>Send promotional communications (with your consent)</li>
          </ul>
        </section>

        <section>
          <h3>3. Information Sharing</h3>
          <p>We share your information with:</p>
          <ul>
            <li><strong>Chefs:</strong> To prepare and fulfill your orders</li>
            <li><strong>Drivers:</strong> To deliver your orders</li>
            <li><strong>Payment Processors:</strong> To process transactions securely</li>
            <li><strong>Service Providers:</strong> Who help us operate the platform</li>
            <li><strong>Legal Authorities:</strong> When required by law</li>
          </ul>
          <p>We do not sell your personal information to third parties.</p>
        </section>

        <section>
          <h3>4. Data Security</h3>
          <p>We implement industry-standard security measures to protect your data, including:</p>
          <ul>
            <li>Encryption of sensitive data in transit and at rest</li>
            <li>Secure authentication and access controls</li>
            <li>Regular security audits and updates</li>
            <li>Limited access to personal information</li>
          </ul>
        </section>

        <section>
          <h3>5. Your Rights</h3>
          <p>You have the right to:</p>
          <ul>
            <li>Access your personal information</li>
            <li>Correct inaccurate information</li>
            <li>Request deletion of your information</li>
            <li>Opt-out of marketing communications</li>
            <li>Export your data in a portable format</li>
          </ul>
        </section>

        <section>
          <h3>6. Cookies and Tracking</h3>
          <p>We use cookies and similar technologies to:</p>
          <ul>
            <li>Maintain your session and preferences</li>
            <li>Analyze platform usage and performance</li>
            <li>Personalize your experience</li>
            <li>Deliver relevant advertisements</li>
          </ul>
          <p>You can control cookies through your browser settings.</p>
        </section>

        <section>
          <h3>7. Data Retention</h3>
          <p>We retain your information for as long as necessary to:</p>
          <ul>
            <li>Provide our services to you</li>
            <li>Comply with legal obligations</li>
            <li>Resolve disputes and enforce agreements</li>
            <li>Maintain business records</li>
          </ul>
        </section>

        <section>
          <h3>8. Children's Privacy</h3>
          <p>Our platform is not intended for users under 18 years of age. We do not knowingly collect information from children.</p>
        </section>

        <section>
          <h3>9. Changes to Privacy Policy</h3>
          <p>We may update this privacy policy from time to time. We will notify you of significant changes via email or platform notification.</p>
        </section>

        <section>
          <h3>10. Contact Us</h3>
          <p>For privacy-related questions or to exercise your rights, contact us at:</p>
          <p>Email: <a href="mailto:privacy@ridendine.com">privacy@ridendine.com</a><br>
          Phone: 1-800-RIDENDINE<br>
          Address: 75 Centennial Pkwy, Hamilton, ON, Canada</p>
        </section>

        <div class="page-links">
          <a href="#" onclick="navigateTo('/admin/legal/terms'); return false;">Terms of Service</a>
          <a href="#" onclick="navigateTo('/admin'); return false;">Back to Dashboard</a>
        </div>
      </div>
    </div>
  </main>
</div>

<style>
  .admin-layout { display: flex; min-height: 100vh; }
  .admin-sidebar { width: 250px; background: #1a202c; color: white; padding: 20px; position: fixed; height: 100vh; overflow-y: auto; }
  .admin-brand h2 { margin: 0 0 24px 0; font-size: 1.2rem; }
  .admin-nav { display: flex; flex-direction: column; gap: 4px; }
  .admin-nav a { padding: 10px 12px; border-radius: 6px; color: #cbd5e0; transition: all 0.2s; }
  .admin-nav a:hover, .admin-nav a.active { background: #2d3748; color: white; }
  .admin-main { margin-left: 250px; flex: 1; background: var(--sand); }
  .admin-header { background: white; padding: 20px 32px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; }
  .admin-header h1 { margin: 0; }
  .admin-content { padding: 32px; max-width: 900px; }
  .page-card { background: white; padding: 32px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  .page-card h2 { margin-top: 0; }
  .page-card section { margin-bottom: 24px; }
  .page-card h3 { color: var(--teal); margin-top: 0; }
  .page-card ul { line-height: 1.8; }
  .page-links { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 2px solid #e2e8f0; }
  .page-links a { padding: 10px 16px; border-radius: 8px; background: var(--sand); font-weight: 600; color: var(--teal); }
  .page-links a:hover { background: var(--teal); color: white; }
</style>

<script>
(async function() {
  // Check admin authentication
  try {
    const res = await window.apiFetch('/api/auth/session');
    const data = await res.json();
    if (!data.authenticated || data.role !== 'admin') {
      navigateTo('/admin/login');
      return;
    }
  } catch (error) {
    navigateTo('/admin/login');
    return;
  }

  // Logout
  document.getElementById('logoutBtn').addEventListener('click', async () => {
    await window.apiFetch('/api/auth/logout', { method: 'POST' });
    navigateTo('/');
  });
})();
</script>


